{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="row">
    <div class="col-md-6">
        <div class="card" style="margin-top: 80px; margin-left: 15px; margin-right: 15PX;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">Top 5 Organizations with the Most Members</p> 
                    <canvas id="pie-chart" width="400" height="275"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="margin-top: 80px; margin-left: 7px; margin-right: 15PX;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">Top Colleges with the Most Program</p> 
                    <canvas id="colleges-chart" width="400" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="margin-top: 10px; margin-left: 15px;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">Top Programs with Lots of Students Enrolled</p> 
                    <canvas id="program-chart" width="400" height="275"></canvas>
                </div>                
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="margin-top: 10px; margin-left: 7px; margin-right: 15PX;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">Top Colleges with the Most Organizations Offer</p> 
                    <canvas id="organizations-chart" width="430" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="margin-top: 10px; margin-left: 15px;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">Less Students Enrolled in College Program</p> 
                    <canvas id="less-chart" width="200" height="150"></canvas>
                </div>                
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card" style="margin-top: 10px; margin-left: 7px; margin-right: 15PX;"> 
            <div class="card-body">
                <div class="chart-container" style="position: relative; height:450px; width:100%;"> 
                    <p style="text-align: center; font-size: 18px; margin-bottom: 10px;">List of Colleges in PALSU</p> 
                    <canvas id="allcollege-chart" width="400" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<script>


var orgLabels = {{ labels | safe }};
    var orgData = {{ data | safe }};

    var orgCtx = document.getElementById('pie-chart').getContext('2d');
    var orgChart = new Chart(orgCtx, {
        type: 'line',
        data: {
            labels: orgLabels,
            datasets: [{
                label: 'Number of Members',
                data: orgData,
                fill: false,
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

    // Create a new line chart for colleges with most programs
    var colleges = {{ colleges | safe }};
    var num_programs = {{ num_programs | safe }};

    var collegesCtx = document.getElementById('colleges-chart').getContext('2d');
    var collegesChart = new Chart(collegesCtx, {
        type: 'bar', // Baguhin ang type mula 'line' papunta sa 'bar'
        data: {
            labels: colleges,
            datasets: [{
                label: 'Number of Programs',
                data: num_programs,
                backgroundColor: [ // Magdagdag ng listahan ng iba't ibang mga kulay dito para sa bawat bar
                    'rgba(255, 99, 132, 0.2)', // Red
                    'rgba(54, 162, 235, 0.2)', // Blue
                    'rgba(255, 205, 86, 0.2)', // Yellow
                    'rgba(75, 192, 192, 0.2)', // Green
                    'rgba(153, 102, 255, 0.2)' // Purple
                    // Magdagdag pa ng mga kulay sa kailangang bilang
                ],
                borderColor: [ // Magdagdag ng listahan ng mga border color dito
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                    // Magdagdag pa ng mga border color sa kailangang bilang
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });


    var programs = {{ programs | safe }};
            var numStudents = {{ num_students | safe }};

            // Create polar area chart
            var ctx = document.getElementById('program-chart').getContext('2d');
            var studentChart = new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: programs,
                    datasets: [{
                        label: 'Number of Students',
                        data: numStudents,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)', // Red
                            'rgba(54, 162, 235, 0.2)', // Blue
                            'rgba(255, 205, 86, 0.2)', // Yellow
                            'rgba(75, 192, 192, 0.2)', // Turquoise
                            'rgba(153, 102, 255, 0.2)' // Purple
                            // Add more colors if needed
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 205, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                            // Add more border colors if needed
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });

            var collegeNames = {{ college_names | safe }};
            var numOrganizations = {{ num_organizations | safe }};

            // Create radar chart
            var ctx = document.getElementById('organizations-chart').getContext('2d');
            var organizationsChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: collegeNames,
                    datasets: [{
                        label: 'Number of Organizations',
                        data: numOrganizations,
                        backgroundColor: 'rgba(153, 102, 255, 0.2)', // Turquoise color for fill
                        borderColor: 'rgba(153, 102, 255, 1)', // Turquoise color for border
                        borderWidth: 2
                    }]
                },
                options: {
                    scale: {
                        ticks: {
                            beginAtZero: true
                        }
                    }
                }
            });

    var program = {{ program | safe }};
    var less_students = {{ less_students | safe }};

    var collegesCtx = document.getElementById('less-chart').getContext('2d');
    var collegesChart = new Chart(collegesCtx, {
        type: 'bubble',
        data: {
            datasets: [{
                label: 'Number of Students',
                data: less_students.map((value, index) => ({
                    x: Math.random() * 100, // Random x value for each data point
                    y: value, // y value from less_students
                    r: 10, // Radius of the bubble
                    label: program[index] // Program name for each data point
                })),
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 205, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 205, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

    var collegeNames = [
            "CEAT",
            "CTE",
            "CBA",
            "CAH",
            "CS",
            "CHTM",
            "CNHS",
            "CCJE",

            // Idagdag ang iba pang pangalan ng kolehiyo kung kailangan
        ];

        var data = {
    labels: collegeNames,
    datasets: [{
        label: 'PSU Colleges',
        data: new Array(collegeNames.length).fill(1), // Lahat ng data points ay may parehong value para sa parehong laki ng slice
        backgroundColor: [
            'rgba(255, 99, 132, 0.1)',   // Red
            'rgba(54, 162, 235, 0.1)',   // Blue
            'rgba(255, 205, 86, 0.1)',   // Yellow
            'rgba(75, 192, 192, 0.1)',   // Green
            'rgba(153, 102, 255, 0.1)',  // Purple
            'rgba(255, 159, 64, 0.1)',   // Orange
            'rgba(255, 0, 255, 0.1)',    // Magenta
            'rgba(0, 255, 255, 0.1)'     // Cyan
        ],
        borderColor: [
            'rgba(255, 99, 132, 0.5)',    // Red
            'rgba(54, 162, 235, 0.5)',    // Blue
            'rgba(255, 205, 86, 0.5)',    // Yellow
            'rgba(75, 192, 192, 0.5)',    // Green
            'rgba(153, 102, 255, 0.5)',   // Purple
            'rgba(255, 159, 64, 0.5)',    // Orange
            'rgba(255, 0, 255, 0.5)',     // Magenta
            'rgba(0, 255, 255, 0.5)'      // Cyan
            ]

    }]
};

var config = {
    type: 'pie',
    data: data,
};

var ctx = document.getElementById('allcollege-chart').getContext('2d');
new Chart(ctx, config);


</script>
{% endblock %}
